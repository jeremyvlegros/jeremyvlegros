{%- comment -%} initialization {%- endcomment -%}
{%- assign _date = include.date -%}
{%- assign _day = null -%}
{%- assign _debug = null -%}

{%- comment -%} empty string {%- endcomment -%}
{%- if _date == "" -%}
    {%- assign _date = null -%}
{%- endif -%}


{%- if _date -%}

    {%- assign _debug = " > entered first if > " -%}

    {%- comment -%} date is custom (mine) {%- endcomment -%}
    {%- if _date contains "GMT" -%}
        {%- assign _debug = _debug | append: "> entered `if` GMT > " -%}

        {%- comment -%} format : #date 2023-04-01 10:30 168784723873385 GMT {%- endcomment -%}

        {%- comment -%}
        everything as array
            => [#date,2023-04-01,10:30,168784723873385,GMT]
        {%- endcomment -%}
        {%- assign _date = _date | split: " " -%}
        {%- assign _debug = _debug | append: "> value of date as array :" | append: _date | append : " >" -%}

        {%- comment -%}  get year month day
            => 2023-04-01
        {%- endcomment -%}
        {%- assign _date = _date[1] -%}
        {%- assign _debug = _debug | append: "> value of date as Y-M-D:" | append: _date | append : " >" -%}

        {%- comment -%} split date in year month day
            => [2023,04,01]
        {%- endcomment -%}
        {%- assign _date = _date | split: "-" -%}
        {%- assign _debug = _debug | append: "> value of date as Y,M,D:" | append: _date | append : " >" -%}

        {%- comment -%} Main value : day
            => 01
        {%- endcomment -%}
        {%- assign _day = _date[2] -%}
        {%- assign _debug = _debug | append: "> value of date as day :" | append: _date | append : " >" -%}

    {%- endif -%}
{%- else -%}{%- comment -%} format : 2023-04-01T10:30:00+00:00 {%- endcomment -%}
    {%- comment -%} hmm... parsing joy {%- endcomment -%}
    {%- assign _debug = _debug | append: "> entered `if` normal > " -%}
    {%- comment -%}  splitting the date by `T` to array
    => [2023-04-01,10:30:00+00:00]
    {%- endcomment -%}
    {%- assign _date = _date | split: "T" -%}

    {%- comment -%}  getting the year-month-day
    => "2023-04-01"
    {%- endcomment -%}
    {%- assign _date = _date[0] -%}

    {%- comment -%}  splitting in year,month,day
    => [2023,04,01]
    {%- endcomment -%}
    {%- assign _date = _date | split: "-" -%}

    {%- comment -%} Main value : day
    => 01
    {%- endcomment -%}
    {%- assign _day = _date[2] -%}

    {%- assign _debug = _debug | append: "> value of day :" | append: _day -%}

{%- endif -%}

{%- comment -%} return {%- endcomment -%}
{{ _day | append: _debug }}

{%- assign _date = null -%}
{%- assign _day = null -%}
{%- assign _debug = null -%}